<!DOCTYPE html>
<html lang="en">
  <!-- doccure/search.html  30 Nov 2019 04:12:16 GMT -->
  <head>
    <meta charset="utf-8" />
    <title>PsyShell</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <link rel="stylesheet" href="styles.css">
    <!-- Favicons -->
    <link href="https://psyshell.help/assets/img/favicon.png" rel="icon" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://psyshell.help/assets/css/bootstrap.min.css" />

    <!-- Fontawesome CSS -->
    <link
      rel="stylesheet"
      href="https://psyshell.help/assets/plugins/fontawesome/css/fontawesome.min.css"
    />
    <link rel="stylesheet" href="https://psyshell.help/assets/plugins/fontawesome/css/all.min.css" />

    <!-- Datetimepicker CSS -->
    <link rel="stylesheet" href="https://psyshell.help/assets/css/bootstrap-datetimepicker.min.css" />

    <!-- Select2 CSS -->
    <link rel="stylesheet" href="https://psyshell.help/assets/plugins/select2/css/select2.min.css" />

    <!-- Fancybox CSS -->
    <link
      rel="stylesheet"
      href="https://psyshell.help/assets/plugins/fancybox/jquery.fancybox.min.css"
    />

    <link rel="icon" type="image/png" sizes="512x512" href="./assets/img/ATMAN-removebg-preview.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&family=Satisfy&display=swap"
      rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!--new css link-->
    <link href="https://unpkg.com/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/wave-bsb.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="https://psyshell.help/assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/search.css" class="stylesheet">


<!-- 
    <script>
      var server_url = "https://portalserver-sepia.vercel.app";
      const getDoctors = async () => {
        const response = await fetch(${server_url}/auth/doctors/all, {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },
        });
        const data = await response.json();
        console.log(data);
        return data;
      };
     

      window.onload = () => {
        diplayDoctors();
      };

      function setProfileImages(ProfileImage) {
          if (!ProfileImage?.data) return "https://psyshell.help/assets/img/doctors/doctor-thumb-01.jpg";

          const bufferArray = new Uint8Array(ProfileImage?.data);

          const blob = new Blob([bufferArray], { type: "image/jpeg" }); 

          const imageUrl = URL.createObjectURL(blob);
         return imageUrl;
        }

      const diplayDoctors = async()=>{
        const doctors = await getDoctors();
        const doctorBoard = document.getElementById("doctors");
        doctors.forEach((doctor) => {
          const doctorCard = document.createElement("div");
          doctorCard.classList.add("card");
          doctorCard.innerHTML = `
          <div class="card-body">
                  <div class="doctor-widget">
                    <div class="doc-info-left">
                      <div class="doctor-img
                      ">
                        <a href="doctor-profile.html">
                          <img
                            src="${setProfileImages(doctor.ProfileImage)}"
                            class="img-fluid"
                            alt="User Image"
                          />
                        </a>
                      </div>
                      <div class="doc-info-cont " style="max-width:90%;">
                        <h4 class="doc-name">
                          <a href="doctor-profile.html">${doctor.Name}</a>
                        </h4>
                  
                   
                        <div class="rating">

                         ${doctor.AboutMe?.substring(0, 100)}...
                        </div>
                        <div class="clinic-details">
                          <p class="doc-location">
                            <i class="fas fa-map
                            -marker-alt"></i> ${doctor?.clinicName } , ${doctor.ClinicAddress}
                          </p>
                          <ul class="clinic-gallery">
                            ${
                             doctor.services.map((service) => {
                                return `<li>
                                <a
                                  href=""
                                  data-fancybox="gallery"
                                >
                                 ${service},
                                </a>
                              </li>`;
                              }).join(" ")
                            }
                        
                      
                       
                         
                          </ul>
                        </div>
                        <div class="clinic-services">
                          ${
                            doctor.specializations.map((service) => {
                              return <span>${service}</span>;
                            }).join(" ")
                          }
                       
                        </div>
                      </div>
                    </div>
                    <div class="doc-info-right">
                      <div class="clini-infos">
                        <ul>
                          <li><i class="fa fa-money-bill"></i> ${doctor.CustomPricePerHour}rs. perHour</li>
                        
                        </ul>
                      </div>
                      <div class="clinic-booking">
                        <a class="view-pro-btn" href="https://psyshell.help/mentalhealth/#${doctor.Username}"
                          >View Profile</a
                        >
                        <a class="apt-btn" href="https://psyshell.help/booking.html?doctorId=${doctor.UserID}&docName=${doctor.Name}&Loc=${doctor.clinicName+" "+doctor.ClinicAddress}}"
                          >Book Appointment</a
                        >
                      </div>
                    </div>
                  </div>
                </div>
          `;
          doctorBoard.appendChild(doctorCard);
        });
      }
    </script> -->

<style>
  a {
    text-decoration: none;
  }
</style>
  </head>
  <body>
    <!-- Main Wrapper -->
    <div class="main-wrapper">
      <!-- Header -->
      <header id="header" class="sticky-top bsb-tpl-header-sticky bsb-tpl-header-sticky-animationX">
   
        <nav id="scrollspyNav"
          class="navbar navbar-expand-lg bsb-tpl-bg-blue bsb-navbar bsb-navbar-hover bsb-navbar-caret bsb-tpl-navbar-sticky"
          data-bsb-sticky-target="#header">
          <div class="container">
            <a class="navbar-brand" href="index.html">
              <img src="./assets/img/ATMAN-removebg-preview.png" class="bsb-tpl-logo" alt="">
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-list"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                  d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
              </svg>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
              <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <ul id="bsb-tpl-navbar" class="navbar-nav justify-content-end flex-grow-1">
                  <li class="nav-item">
                    <a class="nav-link active" href="index.html" aria-current="page" data-bs-dismiss="offcanvas" data-bs-target="#offcanvasNavbar"style="color:black;">Home</a>
    
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="index.html#scrollspyServices" data-bs-dismiss="offcanvas"
                      data-bs-target="#offcanvasNavbar" aria-current="page" style="color:black;">Services</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="index.html#scrollspyPortfolio" data-bs-dismiss="offcanvas"
                      data-bs-target="#offcanvasNavbar" aria-current="page"style="color:black;">Activities</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="index.html#scrollspyAbout" data-bs-dismiss="offcanvas"
                      data-bs-target="#offcanvasNavbar" aria-current="page"style="color:black;">About</a>
                  </li>
                  <li class="nav-item d-none">
                    <a class="nav-link active" href="index.html#scrollspyTeam" data-bs-dismiss="offcanvas"
                      data-bs-target="#offcanvasNavbar" aria-current="page"style="color:black;">Team</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="index.html#scrollspyContact" data-bs-dismiss="offcanvas"
                      data-bs-target="#offcanvasNavbar" aria-current="page"style="color:black;">Contact</a>
                  </li>
                  <li class="nav-item d-none">
                    <a class="nav-link active" href="blogs.html" 
                       aria-current="page"style="color:black;">Blogs</a>
                  </li>
                  <li class="nav-item d-none">
                    <a class="nav-link active" href="blogeditor.html" 
                       aria-current="page" style="color:black;">Write Blogs</a>
                  </li>
    
                </ul>
              </div>
            </div>
          </div>
        </nav>
      </header>
      <div class="wrapper">
        <!-- Search Bar & Sorting -->
        <div class="top-bar">
            <div class="search-bar">
                <input type="text" id="searchInput" oninput="handleSearch()" placeholder="Search by specialty...">
                <button class="search-button">🔍</button>
                
            </div>
            <select id="sortSelect" onchange="handleSort()">
                <option value="default" disabled selected>Sort By</option>
                <option value="price">Cost (Low to High)</option>
                <option value="rating">Rating (High to Low)</option>
            </select>
            
        </div>

        <!-- Doctor Profiles -->
        <div id="profilesContainer" class="profiles-container">
            <!-- Dynamic Content Will Be Inserted Here -->
        </div>
         <!-- Loading Animation -->
<div id="loading" class="load-row">
  <span></span>
  <span></span>
  <span></span>
  <span></span>
</div>

        <div id="noResults" class="no-results">
            <img src="https://images.pexels.com/photos/4386464/pexels-photo-4386464.jpeg" alt="No results">
            <p>Oops! No specialist found 😞</p>
        </div>
    </div>

    <!-- <script>
        var server_url = "https://portalserver-sepia.vercel.app";
        let doctorsData = []; // To store fetched doctors

        const getDoctors = async () => {
            const response = await fetch(${server_url}/auth/doctors/all, {
                method: "GET",
                headers: {
                    "Content-Type": "application/json",
                },
            });
            const data = await response.json();

            doctorsData = data.map((doctor, index) => ({
                id: doctor.UserID || index + 1,
                name: doctor.Name || "Unknown Doctor",
                specialty: doctor.specializations ? doctor.specializations.join(", ") : "General",
                rating: doctor.rating || (Math.random() * (5 - 4) + 4).toFixed(1),
                price: doctor.CustomPricePerHour || 50,
                working: doctor.working ?? true,
                image: doctor.ProfileImage ? setProfileImages(doctor.ProfileImage) : "https://psyshell.help/assets/img/doctors/doctor-thumb-01.jpg",
            }));

            renderDoctors(doctorsData);
        };

        window.onload = () => {
            getDoctors();
        };

        function setProfileImages(ProfileImage) {
            if (!ProfileImage?.data) return "https://psyshell.help/assets/img/doctors/doctor-thumb-01.jpg";
            const bufferArray = new Uint8Array(ProfileImage?.data);
            const blob = new Blob([bufferArray], { type: "image/jpeg" });
            return URL.createObjectURL(blob);
        }

        const renderDoctors = (doctors) => {
            const profilesContainer = document.getElementById("profilesContainer");
            const noResults = document.getElementById("noResults");

            profilesContainer.innerHTML = "";

            if (doctors.length === 0) {
                noResults.style.display = "block";
            } else {
                noResults.style.display = "none";
                doctors.forEach(doctor => {
                    const card = document.createElement("div");
                    card.classList.add("profile-card");
                    card.innerHTML = `
                        <img src="${doctor.image}" class="profile-image" alt="${doctor.name}">
                        <div class="profile-details">
                            <h3 class="doctor-name">${doctor.name}</h3>
                            <p class="specialty">${doctor.specialty}</p>
                            <p class="rating">⭐ ${doctor.rating}</p>
                            <p class="price">💰 $${doctor.price} / Session</p>
                            <p class="status">${doctor.working ? "🟢 Available" : "🔴 Unavailable"}</p>
                            <div class="button-container">
                                <button class="view-profile-btn" onclick="viewProfile(${doctor.id})">Profile</button>
                                <button class="book-btn" onclick="bookDoctor(${doctor.id})" ${!doctor.working ? "disabled" : ""}>
                                    ${doctor.working ? "Book Now" : "Booked"}
                                </button>
                            </div>
                        </div>
                    `;
                    profilesContainer.appendChild(card);
                });
            }
        };

        const handleSearch = () => {
            const searchTerm = document.getElementById("searchInput").value.toLowerCase();
            const filteredDoctors = doctorsData.filter(doctor =>
                doctor.specialty.toLowerCase().includes(searchTerm)
            );
            renderDoctors(filteredDoctors);
        };

        const handleSort = () => {
            const sortOption = document.getElementById("sortSelect").value;
            let sortedDoctors = [...doctorsData];

            if (sortOption === "price") {
                sortedDoctors.sort((a, b) => a.price - b.price);
            } else if (sortOption === "rating") {
                sortedDoctors.sort((a, b) => b.rating - a.rating);
            }

            renderDoctors(sortedDoctors);
        };

        function viewProfile(doctorId) {
            alert(Viewing profile for doctor with ID: ${doctorId});
        }

        function bookDoctor(doctorId) {
            alert(Booking appointment with doctor ID: ${doctorId});
        }
    </script> -->
   
   
    <script src="./js/search.js"></script>
      <!-- Footer -->
      <footer class="footer">
        <!-- Footer Top -->
        <div class="footer-top">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-6 col-md-6">
                <!-- Footer Widget -->
                <div class="footer-widget footer-about">
                  <div class="footer-logo">
                    <img src="https://psyshell.help/assets/img/footer-logo.png" alt="logo" />
                  </div>
                  <div class="footer-about-content">
                    <p>Streamline Your Practice, Empower Your Well-being.</p>
                    <div class="social-icon">
                      <ul>
                        <li>
                          <a
                            href="https://www.linkedin.com/company/psyshell/"
                            target="_blank"
                            ><i class="fab fa-linkedin-in"></i
                          ></a>
                        </li>
                        <li>
                          <a
                            href="https://www.instagram.com/psyshell/"
                            target="_blank"
                            ><i class="fab fa-instagram"></i
                          ></a>
                        </li>
                        <li>
                          <a
                            href="https://whatsapp.com/channel/0029VaWTh5p0bIdsWUjjqB36"
                            target="_blank"
                            ><i class="fab fa-whatsapp"></i>
                          </a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- /Footer Widget -->
              </div>

              <div class="col-lg-6 col-md-6">
                <!-- Footer Widget -->
                <div class="footer-widget footer-contact">
                  <h2 class="footer-title">Contact Us</h2>
                  <div class="footer-contact-info">
                    <p class="mb-0">
                      <i class="fas fa-envelope"></i>
                      contact@psyshell.help
                    </p>
                    <div class="copyright-menu">
                      <ul class="policy-menu">
                        <li>
                          <a href="term-condition.html">Terms and Conditions</a>
                        </li>
                        <li><a href="privacy-policy.html">Policy</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
                <!-- /Footer Widget -->
              </div>
            </div>
          </div>
        </div>
        <!-- /Footer Top -->

 
        <!-- /Footer Bottom -->
      </footer>
      <!-- /Footer -->
    </div>
    <!-- /Main Wrapper -->

    <!-- jQuery -->
    <script src="https://psyshell.help/assets/js/jquery.min.js"></script>

    <!-- Bootstrap Core JS -->
    <script src="https://psyshell.help/assets/js/popper.min.js"></script>
    <script src="https://psyshell.help/assets/js/bootstrap.min.js"></script>

    <!-- Sticky Sidebar JS -->
    <script src="https://psyshell.help/assets/plugins/theia-sticky-sidebar/ResizeSensor.js"></script>
    <script src="https://psyshell.help/assets/plugins/theia-sticky-sidebar/theia-sticky-sidebar.js"></script>

    <!-- Select2 JS -->
    <script src="https://psyshell.help/assets/plugins/select2/js/select2.min.js"></script>

    <!-- Datetimepicker JS -->
    <script src="https://psyshell.help/assets/js/moment.min.js"></script>
    <script src="https://psyshell.help/assets/js/bootstrap-datetimepicker.min.js"></script>

    <!-- Fancybox JS -->
    <script src="https://psyshell.help/assets/plugins/fancybox/jquery.fancybox.min.js"></script>

    <!-- Custom JS -->
    <script src="https://psyshell.help/assets/js/script.js"></script>
    <script src="./assets/controller/project-2.js"></script>
    <script src="./assets/controller/wave-bsb.js"></script>
  </body>

  <!-- doccure/search.html  30 Nov 2019 04:12:16 GMT -->
</html>